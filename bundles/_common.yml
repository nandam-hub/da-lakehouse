# ==============================================================================
# Shared Configuration for All Raw Layer Databricks Asset Bundles
# ==============================================================================
# This file contains common variables that are reused across all bundles
# in this repository (drs, guidewire_cda, etc.)
#
# Note: YAML anchors (&anchor_name) cannot be shared across files, so each
# bundle must define its own anchors for permissions and config blocks.
# ==============================================================================

# _common.yml
variables:
  # Complex variable: map environment -> service principal ID
  service_principals:
    description: "Service Principal mapping by lh_environment"
    type: complex
    default:
      sandbox: a0a83729-f6b5-4f85-bf22-699bbe7feb6a
      #dev: 111986ad-4fc6-45b4-9469-e7c7c581cbb6
      #dev: 8323ced5-d447-4a03-b1c9-243d5fae00c5 # enterprise_object_owner_dev
      #test: fb3648e1-7d19-4a94-a4db-5f69eaf8cf8b # enterprise_object_owner_test
      #prod: 6f148b62-472e-40c4-bb1d-35aa176822bf # enterprise_object_owner_prod

  # Simple variables (declared at top level; they were previously nested under service_principals, which caused warnings)
  service_principal_object_owner:
    description: "Service Principal for object ownership (resolved dynamically)"
    default: "" # Will be overridden per target via variable blocks

  databricks_host:
    description: "Databricks workspace host URL"
    default: "https://dbc-f7a333f8-6cdd.cloud.databricks.com"

  databricks_client_id:
    description: "Databricks OAuth client ID"
    default: "a0a83729-f6b5-4f85-bf22-699bbe7feb6a"

  databricks_client_secret:
    description: "Databricks OAuth client secret"
    default: "dose745470e79abf106e183467d916b68537" # pragma: allowlist secret

  amic_environment:
    description: "AMIC environment name for schema suffix (e.g., sandbox, dev, test, qas, prod)"
    default: "sandbox"

  aws_environment:
    description: "AWS environment where S3 is located (e.g., dev or prod)"
    default: "sandbox"

  lh_environment:
    description: "Lakehouse environment name for catalog prefix (e.g., dev, test, prod)"
    default: "sandbox"
